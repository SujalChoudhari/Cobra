class Player {
    // Static field: shared by all instances
    static int playerCount = 0;

    // Instance fields
    private string name;
    public int score;

    // Constructor
    constructor(string initialName) {
        this.name = initialName;
        this.score = 0;
        Player.playerCount = Player.playerCount + 1;
        print("Player '" + this.name + "' has joined the game.");
    }

    // Public instance method
    public void printInfo() {
        print("  - Name: " + this.name + ", Score: " + this.score);
    }

    // Static method
    static void printPlayerCount() {
        print("Total players online: " + Player.playerCount);
    }

    // Destructor
    destructor() {
        Player.playerCount = Player.playerCount - 1;
        print("Player '" + this.name + "' is leaving. " + Player.playerCount + " players remain.");
    }
}


namespace App.Main {
    print("--- Destructor Test ---");

    Player.printPlayerCount();

    print("Creating players p1 and p2...");
    var p1 = new Player("Alice");
    var p2 = new Player("Bob");
    
    Player.printPlayerCount();
    
    print("\nDestroying p1...");
    destroy(p1);

    Player.printPlayerCount();

    print("\nDestroying p2...");
    destroy(p2);

    Player.printPlayerCount();
    
    print("\nDestructor tests complete.");
}